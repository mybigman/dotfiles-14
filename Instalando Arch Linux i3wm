################################################################################################
# Criador: Franklin Souza
# Telegram: @FranklinTech                                                                                                                                                             
#
# ESSE TUTORIAL FOI REALIZADO EM UM COMPUTADOR DESKTOP, UTILIZANDO REDE CABEADA E BIOS MBR
# Não responsabilizo por danos, essa é MINHA INSTALAÇÃO, só estou salvando aqui caso eu precise 
# SE QUISER FAZER O TESTE, FAÇA EM UMA VM (VIRTUAL MACHINE)
# Recomendo ler: https://wiki.archlinux.org/index.php/Installation_guide_(Portugu%C3%AAs) 
################################################################################################

➜ Layout teclado
loadkeys br-abnt2

➜ Mudar tamanho da fonte
setfont lat4-19

➜ Mudar idioma da instalação
nano /etc/locale.gen

➜ Descomentar a linha:
#pt_BR.UTF-8

➜ Execute os comandos:
locale-gen
export LANG=pt_BR.UTF-8

➜ Separar as partições
cfdisk

➜ Formatar as partições
mkfs.ext4 # Formatar partição
mkswpap # Formatar swap (caso tenha)

➜ Montar partições
mount # Montar as partições
swapon # Montar swap (caso tenha)

➜ Instalar sistema base
pacstrap /mnt base dhcpcd neovim less man-pages linux-firmware mkinitcpio base-devel

➜ Gerar FSTAB
genfstab -U /mnt >> /mnt/etc/fstab

➜ Entrar no chroot
arch-chroot /mnt

➜ Setar o horário no sistema
hwclock --systohc

➜ Ativando rede cabeada
systemctl enable dhcpcd

➜ Mudando o idioma do SISTEMA
nvim /etc/locale.gen

➜ Descomentar linha:
#pt_BR.UTF-8

➜ Executar comandos
locale-gen
echo LANG=pt_BR.UTF-8 > /etc/locale.conf
export LANG=pt_BR.UTF-8

➜ Configurar o teclado para subir em PT-BR
echo KEYMAP=br-abnt2 > /etc/vconsole.conf

➜ Colocar nome host
echo LOCALHOST > /etc/hostname

➜ Baixar kernels (sua preferência)
pacman -S linux-zen linux-zen-headers ➜ KERNEL DE DESEMPENHO
pacman -S linux-hardened linux-hardened-headers usbctl ➜ KERNEL DE SEGURANÇA
pacman -S linux ➜ KERNEL PADRÃO

➜ Rodar o kernel
mkinitcpio -P

➜ Configurar repositório
nvim /etc/pacman.conf

➜ Descomentar linha:
#multilib
#incluide

➜ Sincronizar repositórios
pacman -Syy

➜ Senha root
passwd

➜ Criar user
useradd -m -g users -G wheel,audio,video,daemon,dbus,disk,rfkill,games,power,lp,optical,scanner,storage,input -s /bin/bash USER

➜ Criar senha para o user
passwd USER

➜ Editar prioridade SUDO
nvim /etc/sudoers

➜ Descomentar linha:
# %wheel ALL=(ALL) ALL

➜ Baixar e instalar o GRUB
pacman -S grub --noconfirm && grub-install /dev/sdX

➜ Caso tenha outro OS instalado
pacman -S os-prober ntfs-3g --noconfirm

➜ Atualize o GRUB
grub-mkconfig -o /boot/grub/grub.cfg

➜ Baixar GPU
pacman -S xf86-video-amdgpu --noconfirm

➜ Baixar alguns pacotes
pacman -S xorg xorg-xinit ttf-dejavu pulseaudio-alsa pavucontrol --noconfirm

➜ Baixando i3wm
pacman -S i3 --noconfirm

➜ Atualizar chaves (Recomendado)
pacman-key --refresh-keys

➜ Pacotes necessarios
pacman -S dmenu termite feh viewnior imagemagick git wget howl thunar firefox-i18n-pt-br scrot flameshot --noconfirm

➜ Configurar o .xinitrc
su - USER
nvim $HOME/.xinitrc

➜ Adicionar parametro no .xinitrc
exec i3

➜ Da permissões ao .xinitrc
chmod +x $HOME/.xinitrc

# FINALIZADA INSTALAÇÃO do Arch Linux + I3wm
